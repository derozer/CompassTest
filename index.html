<!DOCTYPE html><!--HTML5 doctype-->
<html>
<head>
	<title>Compass Test</title>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<style type="text/css">
		/* Prevent copy paste for all elements except text fields */
		*  { -webkit-user-select:none; -webkit-tap-highlight-color:rgba(255, 255, 255, 0); }
		input, textarea  { -webkit-user-select:text; }
		body { background-color:white; color:black }
	</style>

    <script src='cordova.js'></script>
	<script type="text/javascript">
        // Start watching the compass
        function startCompass() {
            var options = { frequency: 100 };
            watchCompassID = navigator.compass.watchHeading(onCompassSuccess, onCompassError, options);
            document.getElementById("compass").value = "started";
        }

        // onSuccess: Get the current heading
        function onCompassSuccess(heading) {
            var degree = heading.magneticHeading;
            document.getElementById("compass").value = degree;
        }
        
        function onCompassError(evt){
        document.getElementById("compass").value = "error";    
        }    

        
        
		/* Intel native bridge is available */
		var onDeviceReady=function(){
            startCompass();    
         document.getElementById("compass").value = "ready";   
            
        
            

		};
        
        
        
        
        
        
        
        
		document.addEventListener("deviceready",onDeviceReady,false);
	</script>
</head>
<body>
	<input type="text" id="compass" />
</body>
</html>
